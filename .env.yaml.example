# Flight Aggregator Configuration

server:
  port: 8080
  timeout: 30s
  read_timeout: 15s
  write_timeout: 15s
  idle_timeout: 60s

cache:
  ttl: 10m  # Cache flight search results for 10 minutes

provider:
  timeout: 5s  # Global timeout for all provider requests

  providers:
    garuda:
      name: "Garuda Indonesia"
      enabled: true
      response_time: 500ms  # Simulated network delay
      failure_rate: 0.0     # 0% failure rate (very reliable)
      data_path: "test_data/garuda_indonesia_search_response.json"

    lionair:
      name: "Lion Air"
      enabled: true
      response_time: 800ms  # Slower response time
      failure_rate: 0.05    # 5% failure rate
      data_path: "test_data/lion_air_search_response.json"

    batik:
      name: "Batik Air"
      enabled: true
      response_time: 600ms
      failure_rate: 0.02    # 2% failure rate
      data_path: "test_data/batik_air_search_response.json"

    airasia:
      name: "AirAsia"
      enabled: true
      response_time: 1200ms  # Slowest provider
      failure_rate: 0.30     # 30% failure rate (unreliable, for testing)
      data_path: "test_data/airasia_search_response.json"

logging:
  level: info  # Options: debug, info, warn, error

rate_limit:
  requests: 100  # Maximum requests per window
  window: 1m     # Time window for rate limiting

scoring:
  weights:
    price: 0.4          # 40% - Price weight (lower price = higher score)
    duration: 0.3       # 30% - Duration weight (shorter = higher score)
    stops: 0.2          # 20% - Stops weight (fewer stops = higher score)
    departure_time: 0.1 # 10% - Departure time preference weight

retry:
  max_attempts: 3       # Maximum number of retry attempts
  initial_delay: 100ms  # Initial delay between retries
  max_delay: 5s         # Maximum delay between retries
  multiplier: 2.0       # Exponential backoff multiplier

mock_data:
  path: "test_data"  # Base path for mock data files